Depot arrangement

У компании есть N магазинов, которые продают M различных продуктов каждый. Имеется 
большой склад, где продукты упакованы до доставки в магазины. Каждый магазин получает 
одинаковое количество единиц каждого продукта. Поэтому компания пакует определенное количество единиц
данного продукта в контейнер, и маркирует его идентификатором продукта. 
Продукты идентифицируются числами от 1 до M. Таким образом, в конце упаковки на складе
N * M контейнеров, и ровно N контейнеров помечены продукта этикеткой 
каждого продукта. Потому что склад находится в узком здании, контейнеры расположены в 
один ряд. В целях ускорения распределения, менеджер склада хочет переставить
контейнеры. Поскольку доставка продукции в магазины происходит путем отправки ровно одного грузовика 
в каждый магазина, и каждый грузовик везет один контейнер каждого продукта, подходящей расстановкой является 
следующая. Первые М контейнеров в ряду должны быть помечены различными этикетками, 
вторые М контейнеров в ряду должны быть помечены различными этикетками, и так далее. 
К сожалению, есть только одно свободное место в конце ряда для размещения контейнера. Поэтому 
перемещения должны выполняться последовательно поднимая контейнер и перенося его на 
свободное место. После перестановки свободное место должно быть в конце строки. 
Цель заключается в достижении необходимой перестановки минимальным числом ходов. 

Вы должны написать программу, которая вычисляет перестановку, которая требует минимальное число

Первая строка текстового файла depot.in содержит два целых числа, N и M. N (1 <= N <= 400) -
количество магазинов и M (1 <= М <= 400) - количество продуктов. Вторая строка содержит
N * M целых чисел - этикетки контейнеров в их первоначальной расстановке. Каждый идентификатор продукта х (1 <= X <= М) встречается в строке ровно N раз.

Первая строка depot.out должна содержать одно целое число S - минимальное число
шагов, которые необходимы для получения требуемого порядка контейнеров строки (подзадача A).
Следующие строки описывают перестановки (подзадача B). Каждая строка содержит пары целых чисел
x y. Пара x y описывает ход: контейнер в позиции х, перемещается в позицию y.
Позиции обозначены номерами от 1 до N * M +1; первоначально позиция N * M +1 свободна. 
Перейти от x до y можно только тогда, когда позиция у свободна.
После перехода от х к у позиция x будет свободной. Достаточно вывести только первую строку, если
вы решаете только подзадачу А.
Если есть несколько вариантов ответа, выведите любой.


depot.in

5 6
4 1 3 1 6 5 2 3 2 3 5 6 2 1 4 5 6 4 1 3 2 4 5 5 1 2 3 4 6 6

deport.out

8
9 31
18 9
10 18
4 10
31 4
30 31
24 30
31 24
